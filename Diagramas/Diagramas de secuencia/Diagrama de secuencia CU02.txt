@startuml
title CU09: Buscar Huésped
' Actor y participantes
actor "Conserje" as Conserje
boundary "GUI" as UI
participant "Gestor Alojamiento" as GestorAlojamiento
participant "AlojadoDAO" as ADAO <<Interface>>
database "Base de datos" as BDD <<Database>>
participant "AlojadoDTO" as ADTO <<Object>>

' Precondición
group Precondicion: El actor esta autenticado
  rnote across: Inicio del caso de uso
  
  
  Conserje -> UI : Iniciar busqueda
  activate Conserje
  activate UI
  
  UI --> Conserje : Mostrar todos los campos
  Conserje -> UI : Boton Buscar
  
  UI -> GestorAlojamiento : Obtener lista de personas
  activate GestorAlojamiento
  GestorAlojamiento -> ADAO : Obtener lista de personas
  activate ADAO
  ADAO -> BDD : Obtener lista de personas
  activate BDD
  BDD -> ADTO : Generar lista de personas DTO
  deactivate BDD
  activate ADTO
  
  ADTO --> ADAO : Lista de personas DTO
  deactivate ADTO
  
  ADAO --> GestorAlojamiento : Lista de personas DTO
  deactivate ADAO
  GestorAlojamiento --> UI : Lista de personas DTO
  deactivate GestorAlojamiento
  
  UI --> Conserje : Mostrar lista de personas
  
  alt No existe concordancia segun criterios de busqueda
    UI -> GestorAlojamiento : Ejecutar CU11 Dar de alta huesped
    activate GestorAlojamiento
    deactivate GestorAlojamiento
    rnote over GestorAlojamiento : Fin del caso de uso
  end
  
  Conserje -> UI : Boton SIGUIENTE
  alt No se selecciono ninguna persona
    UI -> GestorAlojamiento : Ejecutar CU11 Dar de alta huesped
    activate GestorAlojamiento
    deactivate GestorAlojamiento
    rnote over GestorAlojamiento : Fin del caso de uso
  end
  
  Conserje -> UI : Seleccion de persona
  
  UI -> GestorAlojamiento : Ejecutar CU10 Modificar huesped
  activate GestorAlojamiento
  deactivate GestorAlojamiento

  
end

== Fin del caso de uso ==
rnote across
  Postcondicion (exito) -- Los datos del huesped quedan en el estado deseado.
  Postcondicion (fracaso) -- La operacion no se puede concretar.
end note

@enduml
 
 

